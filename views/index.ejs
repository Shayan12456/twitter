<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/png;base64,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">
    <title>Home</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" href="/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="main">      
        <header>
            <span class="left">
                <form onclick="handleClick()">
                <img src="/logo.PNG" alt="logo" class="logo">
                </form>
                <h1>Home</h1>
            </span>
    
            <span>
            <form method="get"  action="http://localhost:8080/twitter/search/username=" class="search-inp">
                <input type="search" name="username" class="search" placeholder="Search">
                <!-- <button>search</button> -->
            </form>
            </span>
            <span>
            <form method="get" action="/twitter/new">
                <button class="newPost"><b>Post</b></button>
            </form>
            </span>
        </header>

        <hr class="hr" style="margin-top: 6px; margin-bottom: 0; border: 4px solid black; ">
        <% for(post of posts){ %>
        <div class="post">
            <div class="post-header">
                <% if(post.profileImage.url){ %>
                    <img src="<%=post.profileImage.url%>" alt="" class="prof-pic">
                <% }else{ %>
                    <div style="margin-left: 20px;
                    margin-top: 2.5px; height: 50px; width: 50px; border-radius: 50%;">
                        <img src="/profilelogo.PNG" alt="logo" class="prof-logo">
                    </div>
                <% } %>
                <h1 style="font-size: 1rem;  display: inline-block;"><%=post.username%></h1>
                <span style="opacity: 0.75; font-size: 15px; padding: 10px;">@<%=post.hashname%></span>
            </div>
            <p style="margin-top: 0;"><%= post.text %></p>
            <% if(post.image.url){ %>
                <img src="<%=post.image.url%>" alt="photo" class="postImg">
            <% } %>
            <div class="data">
                <form action="/twitter/<%=post._id%>/edit?_method=PUT" method="POST" id="ID" >
                    <button class="like" id="like">
                        <i class="fa-solid fa-heart fa-xl symb1"></i>
                        <% if(post.likes) {%>
                        <span>Likes: <%=post.likes%></span>
                        <% } else {%>
                        <span>Likes: 0</span>
                        <% } %>
                    </button>
                </form> 
            </div>
        </div>
            <hr class="hr" style="margin-top: 6px; margin-bottom: 0;">
        <%}%>
    </div>
    <script src="app.js"></script>
    <script>
        function handleClick(){
            location.reload();
        }
    </script>
</body>
</html>